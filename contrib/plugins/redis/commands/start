#!/bin/bash
SERVICE_NAME="$1"

echo "-----> Starting Redis service: $SERVICE_NAME"

# Source helper functions
source /opt/gokku/scripts/plugin-helpers.sh

# Check if container exists
if ! container_exists "$SERVICE_NAME"; then
    echo "Service '$SERVICE_NAME' not found"
    exit 1
fi

# Check if container is already running
if container_is_running "$SERVICE_NAME"; then
    echo "Service '$SERVICE_NAME' is already running"
    exit 0
fi

# Start container
docker start "$SERVICE_NAME"

# Wait for container to be ready
wait_for_container "$SERVICE_NAME"

echo "-----> Redis service started successfully"
